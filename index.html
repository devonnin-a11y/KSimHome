<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>KSim Hearth & Home</title>

  <link rel="stylesheet" href="css/style.css">
  <link rel="manifest" href="manifest.json">
</head>

<body>

  <!-- MAIN CAS SHELL -->
  <div id="casShell" class="cas-shell">

    <!-- TOP BAR -->
    <div class="cas-topbar">
      <button id="backHomeBtn" class="top-back hidden" type="button">â†</button>
      <div class="top-title">KSim</div>

      <div class="top-right">
        <button id="musicToggle" class="music-toggle" type="button">â™«</button>
        <button id="musicSkip" class="music-toggle" type="button">â†»</button>
        <div id="weatherChip" class="top-weather"></div>
      </div>
    </div>

    <!-- MAIN CAS AREA -->
    <div id="casMain" class="cas-main">
      <div id="simContainer" class="sim-container">
        <img id="simImage" src="images/kelly-fine.png" class="sim-image">
      </div>

      <!-- QUICK NEED BAR -->
      <div id="needBarLeft" class="need-bar-left">
        <button class="need-dot" data-action="drink">ğŸ¥¤</button>
        <button class="need-dot" data-action="snack">ğŸ«</button>
        <button class="need-dot" data-action="meal">ğŸ½</button>
        <button class="need-dot" data-action="hygiene">âœ¨</button>
        <button class="need-dot" data-action="homeschool">ğŸ“š</button>
        <button class="need-dot" data-action="entertain">ğŸ“º</button>
        <button class="need-dot" data-action="clean">ğŸ§½</button>
        <button class="need-dot" data-action="exercise">ğŸ‹ï¸</button>

        <!-- HYGIENE SUBMENU -->
        <div id="hygieneMenu" class="hygiene-menu">
          <button data-hygiene="toilet">ğŸš½ Toilet</button>
          <button data-hygiene="shower">ğŸš¿ Shower</button>
          <button data-hygiene="teeth">ğŸª¥ Teeth</button>
          <button data-hygiene="haircare">ğŸ’‡ Hair</button>
          <button data-hygiene="skincare">ğŸ§´ Skin</button>
        </div>
      </div>

      <!-- RIGHT PANEL -->
      <div id="casPanel" class="cas-panel hidden">
        <div id="casTabs" class="cas-tabs">
          <button class="cas-tab-btn" data-category="emotions">ğŸ’¬ Emotions</button>
          <button class="cas-tab-btn" data-category="needs">ğŸ’š Needs</button>
          <button class="cas-tab-btn" data-category="recipes">ğŸ“š Recipes</button>
          <button class="cas-tab-btn" data-category="baking">ğŸ§ Baking</button>
          <button class="cas-tab-btn" data-category="hair">ğŸ’‡ HairCare</button>
          <button class="cas-tab-btn" data-category="meal">ğŸ³ Meals</button>
          <button class="cas-tab-btn" data-category="timers">â° Timers</button>
          <button class="cas-tab-btn" data-category="behavior">ğŸ§­ Reactions</button>
          <button class="cas-tab-btn" data-category="skills">â­ Skills</button>
        </div>

        <!-- Dynamic Content Render Target -->
        <div id="casContent" class="cas-content"></div>
      </div>
    </div>

    <!-- BOTTOM HUD -->
    <div id="hudBar" class="hud-bar">
      <img id="portraitImage" src="images/kelly-fine-home.png" class="hud-portrait">
      <div id="moodletBar" class="moodlet-bar"></div>
    </div>

  </div>

  <!-- Load Modular JS Files -->
  <script src="js/state.js"></script>
  <script src="js/music.js"></script>
  <script src="js/needs.js"></script>
  <script src="js/timers.js"></script>
  <script src="js/behavior.js"></script>
  <script src="js/recipes.js"></script>

  <!-- Initialize App -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      window.AppState.load();
      window.Music.init();
      window.Needs.init();
      window.Behavior.init();
      window.Timers.init();
      window.Recipes.init();
    });
  </script>

</body>
</html>
